<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
    <!-- Buttons frames -->
    <Button name="PetsAndMountsSecureButtonPets" inherits="SecureActionButtonTemplate" parent="UIParent" hidden="true">
        <Size x="36" y="36"/>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentIcon" parentKey="icon" file="Interface\ICONS\INV_Pet_Mouse"/>
            </Layer>
            <Layer level="OVERLAY">
                <Texture name="$parentBorder" file="Interface\Buttons\UI-ActionButton-Border" hidden="true" alphaMode="ADD">
                    <Size>
                        <AbsDimension x="62" y="62"/>
                    </Size>
                    <Anchors>
                        <Anchor point="CENTER">
                            <Offset>
                                <AbsDimension x="0" y="0"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </Texture>
            </Layer>
            <Layer level="ARTWORK" textureSubLevel="2">
                <FontString name="$parentHotKey" inherits="NumberFontNormalSmallGray" justifyH="RIGHT">
                    <Size>
                        <AbsDimension x="36" y="10"/>
                    </Size>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset>
                                <AbsDimension x="1" y="-3"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <NormalTexture name="$parentNormalTexture" file="Interface\Buttons\UI-Quickslot2">
            <Anchors>
                <Anchor point="TOPLEFT" x="-15" y="15"/>
                <Anchor point="BOTTOMRIGHT" x="15" y="-15"/>
            </Anchors>
        </NormalTexture>
        <PushedTexture file="Interface\Buttons\UI-Quickslot-Depress"/>
        <HighlightTexture alphaMode="ADD" file="Interface\Buttons\ButtonHilight-Square"/>
        <Scripts>
            <OnLoad>
                self:RegisterForClicks("LeftButtonUp", "RightButtonUp", "MiddleButtonUp");
            </OnLoad>
            <PreClick>
                PetsAndMountsGlobal:PreClickPet(self, button);
            </PreClick>
            <OnEnter>
                PetsAndMountsGlobal:SetTooltip(self);
            </OnEnter>
            <OnLeave>
                GameTooltip:Hide();
            </OnLeave>
            <OnUpdate>
                if ( GameTooltip:GetOwner() == self ) then
                    PetsAndMountsGlobal:SetTooltip(self);
                end
            </OnUpdate>
        </Scripts>
    </Button>

    <Button name="PetsAndMountsSecureButtonMounts" inherits="SecureActionButtonTemplate" parent="UIParent" hidden="true">
        <Size x="36" y="36"/>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentIcon" parentKey="icon" file="Interface\ICONS\ABILITY_MOUNT_ONYXPANTHER"/>
            </Layer>
            <Layer level="OVERLAY">
                <Texture name="$parentBorder" file="Interface\Buttons\UI-ActionButton-Border" hidden="true" alphaMode="ADD">
                    <Size>
                        <AbsDimension x="62" y="62"/>
                    </Size>
                    <Anchors>
                        <Anchor point="CENTER">
                            <Offset>
                                <AbsDimension x="0" y="0"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </Texture>
            </Layer>
            <Layer level="ARTWORK" textureSubLevel="2">
                <FontString name="$parentHotKey" inherits="NumberFontNormalSmallGray" justifyH="RIGHT">
                    <Size>
                        <AbsDimension x="36" y="10"/>
                    </Size>
                    <Anchors>
                        <Anchor point="TOPLEFT">
                            <Offset>
                                <AbsDimension x="1" y="-3"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>
        <NormalTexture name="$parentNormalTexture" file="Interface\Buttons\UI-Quickslot2">
            <Anchors>
                <Anchor point="TOPLEFT" x="-15" y="15"/>
                <Anchor point="BOTTOMRIGHT" x="15" y="-15"/>
            </Anchors>
        </NormalTexture>
        <PushedTexture file="Interface\Buttons\UI-Quickslot-Depress"/>
        <HighlightTexture alphaMode="ADD" file="Interface\Buttons\ButtonHilight-Square"/>
        <Scripts>
            <OnLoad>
                self:RegisterForClicks("LeftButtonUp", "RightButtonUp", "MiddleButtonUp");
            </OnLoad>
            <PreClick>
                PetsAndMountsGlobal:PreClickMount(self, button);
            </PreClick>
            <PostClick>
                PetsAndMountsGlobal:PostClickMount(self, button);
            </PostClick>
            <OnEnter>
                PetsAndMountsGlobal:SetTooltip(self);
            </OnEnter>
            <OnLeave>
                GameTooltip:Hide();
            </OnLeave>
            <OnUpdate>
                if ( GameTooltip:GetOwner() == self ) then
                    PetsAndMountsGlobal:SetTooltip(self);
                end
            </OnUpdate>
        </Scripts>
    </Button>

    <Button name="PetsAndMountsSecureButtonPassengers" inherits="SecureActionButtonTemplate" parent="UIParent" hidden="true">
    </Button>

    <Button name="PetsAndMountsSecureButtonFlying" inherits="SecureActionButtonTemplate" parent="UIParent" hidden="true">
    </Button>

    <Button name="PetsAndMountsSecureButtonGround" inherits="SecureActionButtonTemplate" parent="UIParent" hidden="true">
    </Button>

    <Button name="PetsAndMountsSecureButtonAquatic" inherits="SecureActionButtonTemplate" parent="UIParent" hidden="true">
    </Button>

    <Button name="PetsAndMountsSecureButtonSurface" inherits="SecureActionButtonTemplate" parent="UIParent" hidden="true">
    </Button>

    <Button name="PetsAndMountsSecureButtonRepair" inherits="SecureActionButtonTemplate" parent="UIParent" hidden="true">
    </Button>

    <Button name="PetsAndMountsSecureButtonHybrid" inherits="SecureActionButtonTemplate" parent="UIParent" hidden="true">
    </Button>

    <!-- Models frames -->
    <PlayerModel name="PetsAndMountsMenuModelFrame" parent="UIParent" framestrata="TOOLTIP" hidden="true">
        <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
            <EdgeSize>
                <AbsValue val="12"/>
            </EdgeSize>
            <TileSize>
                <AbsValue val="12"/>
            </TileSize>
            <BackgroundInsets>
                <AbsInset left="4" right="4" top="4" bottom="4"/>
            </BackgroundInsets>
        </Backdrop>
        <Scripts>
            <OnLoad>
                self:SetBackdropBorderColor(TOOLTIP_DEFAULT_COLOR.r, TOOLTIP_DEFAULT_COLOR.g, TOOLTIP_DEFAULT_COLOR.b);
                self:SetBackdropColor(TOOLTIP_DEFAULT_BACKGROUND_COLOR.r, TOOLTIP_DEFAULT_BACKGROUND_COLOR.g, TOOLTIP_DEFAULT_BACKGROUND_COLOR.b);
            </OnLoad>
            <OnShow>
                self.rotation = 0;
                self.rotationTime = GetTime();
            </OnShow>
            <OnHide>
                self:ClearModel();
            </OnHide>
            <OnUpdate>
                PetsAndMountsGlobal:ConfigModelFrameOnUpdate(self);
            </OnUpdate>
        </Scripts>
    </PlayerModel>

    <PlayerModel name="PetsAndMountsConfigModelFrame" parent="UIParent" framestrata="TOOLTIP" hidden="true">
        <Backdrop bgFile="Interface\Tooltips\UI-Tooltip-Background" edgeFile="Interface\Tooltips\UI-Tooltip-Border" tile="true">
            <EdgeSize>
                <AbsValue val="12"/>
            </EdgeSize>
            <TileSize>
                <AbsValue val="12"/>
            </TileSize>
            <BackgroundInsets>
                <AbsInset left="4" right="4" top="4" bottom="4"/>
            </BackgroundInsets>
        </Backdrop>
        <Scripts>
            <OnLoad>
                self:SetBackdropBorderColor(TOOLTIP_DEFAULT_COLOR.r, TOOLTIP_DEFAULT_COLOR.g, TOOLTIP_DEFAULT_COLOR.b);
                self:SetBackdropColor(0.09, 0.09, 0.09);
                self:EnableMouse(1);
            </OnLoad>
            <OnShow>
                self.rotation = 0;
                self.rotationTime = GetTime();
            </OnShow>
            <OnHide>
                self.manualRotation = nil;
                self.isRotating = nil;
                self.rotation = nil;
                self.rotationTime = nil;
                self:ClearModel();
            </OnHide>
            <OnEnter>
                self.mouseOver = 1;
            </OnEnter>
            <OnLeave>
                self.mouseOver = nil;
                self.manualRotation = nil;
                self.isRotating = nil;
            </OnLeave>
            <OnMouseDown>
                self.manualRotation = 1;
                self.isRotating = 1;
                self.rotation = self.rotation or 0;
                self.xOrigin = GetCursorPosition();
            </OnMouseDown>
            <OnMouseUp>
                self.isRotating = nil;
            </OnMouseUp>
            <OnUpdate>
                PetsAndMountsGlobal:ConfigModelFrameOnUpdate(self);
            </OnUpdate>
        </Scripts>
    </PlayerModel>

    <!-- Search frame -->
    <Frame name="PetsAndMountsSearchFrame" parent="UIParent" frameStrata="DIALOG" hidden="true">
        <Size x="300" y="30"/>
        <Frames>
            <EditBox name="$parentSearchBox" inherits="SearchBoxTemplate" parentKey="searchBox" letters="40">
                <Size x="256" y="20"/>
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parent" x="7" y="0"/>
                </Anchors>
                <Scripts>
                    <OnShow>
                        if ( self.searchType == "PETS" ) then
                            if ( PetsAndMountsGlobal.petsListSearchText ) then
                                self:SetText(PetsAndMountsGlobal.petsListSearchText);
                            else
                                self:SetText(SEARCH);
                            end
                        elseif ( self.searchType == "MOUNTS" ) then
                            if ( PetsAndMountsGlobal.mountsListSearchText ) then
                                self:SetText(PetsAndMountsGlobal.mountsListSearchText);
                            else
                                self:SetText(SEARCH);
                            end
                        else
                            self:SetText(SEARCH);
                            self:Hide();
                        end
                    </OnShow>
                    <OnTextChanged>
                        if ( self:GetText() == SEARCH ) then
                            PetsAndMountsGlobal:SearchListCallback(self.searchType);
                        else
                            PetsAndMountsGlobal:SearchListCallback(self.searchType, self:GetText());
                        end
                    </OnTextChanged>
                </Scripts>
            </EditBox>
        </Frames>
        <Scripts>
            <OnLoad>
                self:SetBackdropBorderColor(.6, .6, .6, 1);
            </OnLoad>
        </Scripts>
    </Frame>
</Ui>
